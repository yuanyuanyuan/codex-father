# ğŸ§ª Codex Father æµ‹è¯•æ‰‹å†Œ

## ğŸ“š æ–‡æ¡£å¯¼èˆªä½“ç³»

### ğŸ—‚ï¸ æµ‹è¯•æ–‡æ¡£ç»“æ„

æœ¬æ‰‹å†Œæ˜¯Codex Fatheræµ‹è¯•ä½“ç³»çš„**ä¸»å…¥å£æ–‡æ¡£**ï¼Œä¸å…¶ä»–ç›¸å…³æ–‡æ¡£å½¢æˆå®Œæ•´çš„æµ‹è¯•çŸ¥è¯†ç½‘ç»œï¼š

```
ğŸ“– æµ‹è¯•æ‰‹å†Œ (æœ¬æ–‡æ¡£) â† ä¸»å…¥å£
â”œâ”€â”€ ğŸ“‹ [tests/README.md](../../tests/README.md) - æ ¸å¿ƒæµ‹è¯•æ¦‚è§ˆå’Œå¿«é€Ÿå‚è€ƒ
â”œâ”€â”€ ğŸ“Š [åˆ†æ‰¹æµ‹è¯•æŒ‡å—](./batch-testing-guide.md) - å†…å­˜ä¼˜åŒ–åˆ†æ‰¹æµ‹è¯•è¯¦è§£
â””â”€â”€ ğŸ“– ç›¸å…³æ–‡æ¡£
    â”œâ”€â”€ [æ¶æ„æ–‡æ¡£](../architecture/README.md)
    â”œâ”€â”€ [APIæ–‡æ¡£](../architecture/api/README.md)
    â””â”€â”€ [ç”¨æˆ·æ‰‹å†Œ](../user/README.md)
```

### ğŸ¯ æ–‡æ¡£é€‰æ‹©æŒ‡å—

| éœ€æ±‚åœºæ™¯ | æ¨èæ–‡æ¡£ | å†…å®¹ç„¦ç‚¹ |
|----------|----------|----------|
| **ğŸš€ å¿«é€Ÿä¸Šæ‰‹** | **æœ¬æ–‡æ¡£** - [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) | ç¯å¢ƒå‡†å¤‡ã€åŸºç¡€å‘½ä»¤ |
| **ğŸ“Š ç³»ç»Ÿæ¦‚è§ˆ** | [tests/README.md](../../tests/README.md) | æµ‹è¯•æ¶æ„ã€è¦†ç›–èŒƒå›´ |
| **ğŸ”§ å†…å­˜ä¼˜åŒ–** | [åˆ†æ‰¹æµ‹è¯•æŒ‡å—](./batch-testing-guide.md) | åˆ†æ‰¹ç­–ç•¥ã€æ€§èƒ½è°ƒä¼˜ |
| **âš¡ æ—¥å¸¸å¼€å‘** | **æœ¬æ–‡æ¡£** - [å¼€å‘å·¥ä½œæµ](#-å¼€å‘å·¥ä½œæµ) | å¼€å‘åœºæ™¯ã€å¿«é€Ÿæµ‹è¯• |
| **ğŸš¨ æ•…éšœæ’é™¤** | **æœ¬æ–‡æ¡£** - [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤) | é—®é¢˜è¯Šæ–­ã€è§£å†³æ–¹æ¡ˆ |
| **ğŸ“ˆ CI/CDé›†æˆ** | **æœ¬æ–‡æ¡£** - [CI/CDé›†æˆ](#cicdé›†æˆ) | è‡ªåŠ¨åŒ–æµæ°´çº¿ |

### ğŸ”— å¿«é€Ÿè·³è½¬

- **[ğŸ“‹ æ ¸å¿ƒæµ‹è¯•æ¦‚è§ˆ](../../tests/README.md)** - äº†è§£å®Œæ•´çš„æµ‹è¯•æ¶æ„
- **[ğŸ“Š åˆ†æ‰¹æµ‹è¯•è¯¦è§£](./batch-testing-guide.md)** - å†…å­˜ä¼˜åŒ–å’Œæ€§èƒ½è°ƒä¼˜
- **[ğŸš€ ç«‹å³å¼€å§‹æµ‹è¯•](#-å¿«é€Ÿå¼€å§‹)** - ç¯å¢ƒå‡†å¤‡å’ŒåŸºç¡€å‘½ä»¤

---

## ğŸ“‹ æ¦‚è¿°

æœ¬æ‰‹å†Œæä¾›äº† Codex Father v1.7.0 é¡¹ç›®çš„å®Œæ•´æµ‹è¯•æŒ‡å—ï¼ŒåŒ…æ‹¬å†…å­˜ä¼˜åŒ–çš„åˆ†æ‰¹æµ‹è¯•è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ç³»ç»Ÿçš„æµ‹è¯•ç­–ç•¥å’Œå·¥å…·ï¼Œç¡®ä¿é¡¹ç›®åœ¨å„ç§ç¯å¢ƒä¸‹éƒ½èƒ½ç¨³å®šã€é«˜æ•ˆåœ°è¿è¡Œæµ‹è¯•ã€‚

### æ‰‹å†Œç›®æ ‡

- **å…¨é¢è¦†ç›–**: æ¶µç›–å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€E2Eæµ‹è¯•ã€å¥‘çº¦æµ‹è¯•ç­‰æ‰€æœ‰æµ‹è¯•ç±»å‹
- **å†…å­˜ä¼˜åŒ–**: è§£å†³JavaScripté¡¹ç›®å¸¸è§çš„å†…å­˜æº¢å‡ºé—®é¢˜
- **å®ç”¨æŒ‡å—**: æä¾›å…·ä½“çš„ä½¿ç”¨åœºæ™¯å’Œæ“ä½œæ­¥éª¤
- **æ•…éšœæ’é™¤**: è¯¦ç»†çš„é—®é¢˜è¯Šæ–­å’Œè§£å†³æ–¹æ¡ˆ
- **æœ€ä½³å®è·µ**: åŸºäºé¡¹ç›®ç»éªŒçš„æµ‹è¯•ç­–ç•¥å’Œå»ºè®®

### é€‚ç”¨äººç¾¤

- **å¼€å‘äººå‘˜**: æ—¥å¸¸å¼€å‘ä¸­çš„æµ‹è¯•æ‰§è¡Œå’Œé—®é¢˜æ’æŸ¥
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: æ·±å…¥ç†è§£æµ‹è¯•æ¶æ„å’Œé«˜çº§ç‰¹æ€§
- **DevOpså·¥ç¨‹å¸ˆ**: CI/CDæµæ°´çº¿é›†æˆå’Œä¼˜åŒ–
- **é¡¹ç›®ç»´æŠ¤è€…**: æµ‹è¯•ç­–ç•¥åˆ¶å®šå’Œè´¨é‡ä¿è¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

åœ¨å¼€å§‹æµ‹è¯•ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ»¡è¶³ä»¥ä¸‹ç¯å¢ƒè¦æ±‚ï¼š

```bash
# 1. æ£€æŸ¥Node.jsç‰ˆæœ¬ (éœ€è¦ >= 18.0.0)
node --version

# 2. æ£€æŸ¥npmç‰ˆæœ¬ (éœ€è¦ >= 8.0.0)
npm --version

# 3. å®‰è£…é¡¹ç›®ä¾èµ–
npm install

# 4. æ„å»ºé¡¹ç›®
npm run build

# 5. æ£€æŸ¥æµ‹è¯•ç¯å¢ƒ
npm run typecheck  # TypeScriptç±»å‹æ£€æŸ¥
npm run lint       # ä»£ç é£æ ¼æ£€æŸ¥
```

### æ—¥å¸¸å¼€å‘æµ‹è¯•

```bash
# âœ… æ¨èï¼šæ ¸å¿ƒå•å…ƒæµ‹è¯•å¿«é€ŸéªŒè¯
npm run test:unit

# âœ… å·²éªŒè¯å¯è¿è¡Œçš„å•ç‹¬æµ‹è¯•
npm run test:run tests/unit/schemas/status-example.test.ts --no-coverage
npm run test:run tests/unit/http-version.test.ts --no-coverage
npm run test:run tests/unit/http/HTTPServer.unit.test.ts --no-coverage

# âœ… æ„å»ºéªŒè¯
npm run build
```

### å†…å­˜ä¼˜åŒ–æµ‹è¯•å¥—ä»¶

```bash
# ğŸ¥‡ æœ€ä½³å®è·µï¼šåˆ†æ‰¹æµ‹è¯•ï¼ˆæ¨èï¼‰
npm run test:batch

> ğŸ’¡ **æ·±å…¥äº†è§£**: æŸ¥çœ‹è¯¦ç»†çš„[åˆ†æ‰¹æµ‹è¯•æŒ‡å—](./batch-testing-guide.md)äº†è§£å†…å­˜ä¼˜åŒ–ç­–ç•¥ã€æ‰¹æ¬¡åˆ’åˆ†åŸç†å’Œé«˜çº§é…ç½®

# ğŸ¥ˆ å¤‡é€‰æ–¹æ¡ˆï¼šå¿«é€Ÿåˆ†æ‰¹æµ‹è¯•
npm run test:quick unit          # å•å…ƒæµ‹è¯• (~2GBå†…å­˜)
npm run test:quick integration   # é›†æˆæµ‹è¯• (~3GBå†…å­˜)
npm run test:quick contract      # å¥‘çº¦æµ‹è¯• (~2GBå†…å­˜)
npm run test:quick http          # HTTPæµ‹è¯• (~3GBå†…å­˜)
npm run test:quick mcp           # MCPæµ‹è¯• (~4GBå†…å­˜)

> ğŸ“Š **æ€§èƒ½å¯¹æ¯”**: ä¸åŒæµ‹è¯•ç±»å‹çš„å†…å­˜éœ€æ±‚å’Œæ‰§è¡Œæ—¶é—´å¯¹æ¯”è¯·å‚è€ƒ[åˆ†æ‰¹æµ‹è¯•ç­–ç•¥è¯¦è§£](./batch-testing-guide.md#-æµ‹è¯•ç­–ç•¥è¯¦è§£)

# ğŸ¥‰ æµ‹è¯•ç®¡ç†
npm run test:clean       # æ¸…ç†æµ‹è¯•ç»“æœ
npm run test:merge       # åˆå¹¶æµ‹è¯•æŠ¥å‘Š

> ğŸ“‹ **æŠ¥å‘Šè§£è¯»**: æµ‹è¯•æŠ¥å‘Šåˆ†æè¯·å‚è€ƒ[æµ‹è¯•ç»“æœåˆ†æ](./batch-testing-guide.md#-æŠ¥å‘Šè§£è¯»æŒ‡å—)
```

### ç¡¬ä»¶ç¯å¢ƒé€‰æ‹©æŒ‡å—

| å†…å­˜é…ç½® | æ¨èæµ‹è¯•å‘½ä»¤ | é¢„æœŸæ•ˆæœ |
|----------|--------------|----------|
| < 8GB | `npm run test:quick unit` | å¿«é€ŸéªŒè¯æ ¸å¿ƒåŠŸèƒ½ |
| 8-16GB | `npm run test:batch` | å®Œæ•´åˆ†æ‰¹æµ‹è¯• |
| > 16GB | `NODE_OPTIONS="--max-old-space-size=8192" npm run test:batch` | é«˜æ€§èƒ½å®Œæ•´æµ‹è¯• |

## ğŸ“Š æµ‹è¯•åˆ†ç±»ä¸å‘½ä»¤ä½“ç³»

### 1. æ ¸å¿ƒæµ‹è¯•å‘½ä»¤

| å‘½ä»¤ | åŠŸèƒ½æè¿° | å†…å­˜éœ€æ±‚ | ä½¿ç”¨åœºæ™¯ |
|------|----------|----------|----------|
| `npm run test` | äº¤äº’å¼æµ‹è¯•æ¨¡å¼ | åŠ¨æ€è°ƒæ•´ | å¼€å‘è°ƒè¯• |
| `npm run test:run` | è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆå•æ¬¡ï¼‰ | ä¾èµ–å…·ä½“æµ‹è¯• | å®Œæ•´éªŒè¯ |
| `npm run test:unit` | å•å…ƒæµ‹è¯• | ~2GB | æ ¸å¿ƒåŠŸèƒ½éªŒè¯ |
| `npm run test:integration` | é›†æˆæµ‹è¯• | ~3GB | æ¨¡å—åä½œéªŒè¯ |
| `npm run test:e2e` | ç«¯åˆ°ç«¯æµ‹è¯• | ~6GB | å®Œæ•´æµç¨‹éªŒè¯ |
| `npm run test:coverage` | è¦†ç›–ç‡æµ‹è¯• | ä¾èµ–æµ‹è¯•èŒƒå›´ | ä»£ç è´¨é‡åˆ†æ |

### 2. å†…å­˜ä¼˜åŒ–æµ‹è¯•ï¼ˆæ¨èä½¿ç”¨ï¼‰

```bash
# ğŸŒŸ åˆ†æ‰¹æ‰§è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆ16ä¸ªæ™ºèƒ½æ‰¹æ¬¡ï¼Œé¿å…å†…å­˜æº¢å‡ºï¼‰
npm run test:batch
```

> ğŸ“– **æ·±åº¦å­¦ä¹ **: 
> - [åˆ†æ‰¹æµ‹è¯•ç­–ç•¥è¯¦è§£](./batch-testing-guide.md#-æµ‹è¯•ç­–ç•¥è¯¦è§£) - 16ä¸ªæ‰¹æ¬¡çš„è¯¦ç»†åˆ’åˆ†å’Œå†…å­˜éœ€æ±‚
> - [æ™ºèƒ½åˆ†æ‰¹æ‰§è¡Œå™¨](./batch-testing-guide.md#-æ™ºèƒ½åˆ†æ‰¹æ‰§è¡Œå™¨) - åˆ†æ‰¹ç®—æ³•å’Œå†…å­˜ä¼˜åŒ–åŸç†
> - [æ‰¹æ¬¡æ‰§è¡Œç­–ç•¥](./batch-testing-guide.md#-æ‰¹æ¬¡æ‰§è¡Œç­–ç•¥) - ä¼˜å…ˆçº§ã€æ–­ç‚¹ç»­ä¼ ç­‰é«˜çº§ç‰¹æ€§

```bash
# ğŸ¯ æŒ‰ç±»å‹å¿«é€Ÿæµ‹è¯•ï¼ˆæŒ‰å†…å­˜éœ€æ±‚åˆ†ç±»ï¼‰
npm run test:quick unit          # å•å…ƒæµ‹è¯• (~2GBå†…å­˜)
npm run test:quick integration   # é›†æˆæµ‹è¯• (~3GBå†…å­˜)
npm run test:quick contract      # å¥‘çº¦æµ‹è¯• (~2GBå†…å­˜)
npm run test:quick http          # HTTPæµ‹è¯• (~3GBå†…å­˜)
npm run test:quick mcp           # MCPæµ‹è¯• (~4GBå†…å­˜)
npm run test:quick e2e           # E2Eæµ‹è¯• (~6GBå†…å­˜)
```

> âš¡ **æ€§èƒ½ä¼˜åŒ–**: 
> - [å†…å­˜å‹åŠ›åˆ†çº§](./batch-testing-guide.md#-å†…å­˜å‹åŠ›åˆ†çº§) - ä¸åŒå‹åŠ›ç­‰çº§çš„æµ‹è¯•ç­–ç•¥
> - [ç¡¬ä»¶ç¯å¢ƒé€‚é…](./batch-testing-guide.md#-ç¡¬ä»¶ç¯å¢ƒé€‚é…) - æ ¹æ®é…ç½®é€‰æ‹©æœ€ä½³æµ‹è¯•æ–¹æ¡ˆ

### 3. æµ‹è¯•ç®¡ç†ä¸å·¥å…·

```bash
# ğŸ§¹ æµ‹è¯•ç¯å¢ƒç®¡ç†
npm run test:clean       # æ¸…ç†æµ‹è¯•ç»“æœå’Œè¦†ç›–ç‡
npm run test:merge       # åˆå¹¶åˆ†æ‰¹æµ‹è¯•ç»“æœ

# ğŸ”§ é«˜çº§æµ‹è¯•å·¥å…·
npm run test:split-unit  # åˆ†å‰²å•å…ƒæµ‹è¯•ï¼ˆé«˜é˜¶åŠŸèƒ½ï¼‰
```

### 4. ç‰¹å®šæ–‡ä»¶æµ‹è¯•

```bash
# ğŸ¯ é’ˆå¯¹æ€§æµ‹è¯•ï¼ˆå·²éªŒè¯å¯ç”¨ï¼‰
npm run test:run tests/unit/schemas/status-example.test.ts --no-coverage
npm run test:run tests/unit/http-version.test.ts --no-coverage
npm run test:run tests/unit/http/HTTPServer.unit.test.ts --no-coverage

# ğŸ“‹ è¦†ç›–ç‡æµ‹è¯•
npm run test:run tests/unit/schemas/status-example.test.ts --coverage
```

## ğŸ”§ å·²éªŒè¯å¯ç”¨çš„æµ‹è¯•

### âœ… ç¡®è®¤é€šè¿‡çš„æµ‹è¯•æ–‡ä»¶
```bash
# åŸºç¡€schemasæµ‹è¯•
npm run test:run tests/unit/schemas/status-example.test.ts --no-coverage

# HTTPç‰ˆæœ¬æµ‹è¯•
npm run test:run tests/unit/http-version.test.ts --no-coverage

# HTTPæœåŠ¡å™¨å•å…ƒæµ‹è¯•ï¼ˆéƒ¨åˆ†é€šè¿‡ï¼‰
npm run test:run tests/unit/http/HTTPServer.unit.test.ts --no-coverage
```


## ğŸ“ˆ åˆ†æ‰¹æµ‹è¯•è¯¦æƒ…

### æ‰¹æ¬¡åˆ’åˆ†ï¼ˆ16ä¸ªæ‰¹æ¬¡ï¼‰
1. **core-units** - æ ¸å¿ƒå•å…ƒæµ‹è¯• (2GBå†…å­˜ï¼Œ5åˆ†é’Ÿ)
2. **small-units** - å°å‹å•å…ƒæµ‹è¯• (1.5GBå†…å­˜ï¼Œ2åˆ†é’Ÿ)
3. **http-server** - HTTPæœåŠ¡å™¨æµ‹è¯• (3GBå†…å­˜ï¼Œ10åˆ†é’Ÿ)
4. **contracts** - å¥‘çº¦æµ‹è¯• (2.5GBå†…å­˜ï¼Œ5åˆ†é’Ÿ)
5. **small-contracts** - å°å‹å¥‘çº¦æµ‹è¯• (2GBå†…å­˜ï¼Œ4åˆ†é’Ÿ)
6. **auth-contracts** - è®¤è¯å¥‘çº¦æµ‹è¯• (2GBå†…å­˜ï¼Œ4åˆ†é’Ÿ)
7. **medium-integration** - ä¸­å‹é›†æˆæµ‹è¯• (3GBå†…å­˜ï¼Œ6åˆ†é’Ÿ)
8. **taskrunner-tests** - TaskRunneræµ‹è¯• (4GBå†…å­˜ï¼Œ8åˆ†é’Ÿ)
9. **mcp-server** - MCPæœåŠ¡å™¨æµ‹è¯• (4GBå†…å­˜ï¼Œ10åˆ†é’Ÿ)
10. **e2e-http-api** - E2E HTTP APIæµ‹è¯• (6GBå†…å­˜ï¼Œ15åˆ†é’Ÿ)
11. **e2e-concurrency** - E2Eå¹¶å‘æµ‹è¯• (6GBå†…å­˜ï¼Œ15åˆ†é’Ÿ)
12. **e2e-mcp-toolkit** - E2E MCPå·¥å…·åŒ…æµ‹è¯• (6GBå†…å­˜ï¼Œ15åˆ†é’Ÿ)
13. **acceptance** - éªŒæ”¶æµ‹è¯• (3GBå†…å­˜ï¼Œ10åˆ†é’Ÿ)
14. **remaining-integration** - å‰©ä½™é›†æˆæµ‹è¯• (4GBå†…å­˜ï¼Œ10åˆ†é’Ÿ)
15. **complex-integration** - å¤æ‚é›†æˆæµ‹è¯• (5GBå†…å­˜ï¼Œ12åˆ†é’Ÿ)
16. **remaining-contracts** - å‰©ä½™å¥‘çº¦æµ‹è¯• (2GBå†…å­˜ï¼Œ5åˆ†é’Ÿ)

### å†…å­˜å‹åŠ›åˆ†çº§
- ğŸŸ¢ **ä½å‹åŠ›** (<2GB): åŸºç¡€å•å…ƒæµ‹è¯•ã€å°å‹å¥‘çº¦æµ‹è¯•
- ğŸŸ¡ **ä¸­å‹åŠ›** (2-4GB): HTTPæœåŠ¡å™¨ã€é›†æˆæµ‹è¯•
- ğŸ”´ **é«˜å‹åŠ›** (>4GB): E2Eæµ‹è¯•ã€MCPæœåŠ¡å™¨æµ‹è¯•

## ğŸ› ï¸ å¼€å‘å·¥ä½œæµ

### 1. æ—¥å¸¸å¼€å‘
```bash
# 1. å¿«é€ŸéªŒè¯åŸºç¡€åŠŸèƒ½
npm run test:run tests/unit/schemas/status-example.test.ts --no-coverage

# 2. æ„å»ºæ£€æŸ¥
npm run build

# 3. ä»£ç è´¨é‡æ£€æŸ¥
npm run lint
npm run typecheck
```

### 2. åŠŸèƒ½å¼€å‘å®Œæˆ
```bash
# 1. è¿è¡Œç›¸å…³æ‰¹æ¬¡æµ‹è¯•
npm run test:quick unit    # å¦‚æœä¿®æ”¹äº†æ ¸å¿ƒåŠŸèƒ½
npm run test:quick http    # å¦‚æœä¿®æ”¹äº†HTTPåŠŸèƒ½

# 2. å®Œæ•´æµ‹è¯•ï¼ˆå¦‚æœæ—¶é—´å…è®¸ï¼‰
npm run test:batch

# 3. æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
npm run test:merge
```

### 3. æäº¤å‰éªŒè¯
```bash
# 1. ä»£ç è´¨é‡
npm run lint
npm run typecheck

# 2. æ„å»ºéªŒè¯
npm run build

# 3. å¿«é€Ÿæµ‹è¯•
npm run test:quick unit
```

### 4. CI/CDæµæ°´çº¿
```bash
# 1. æ¸…ç†ç¯å¢ƒ
npm run test:clean

# 2. å®Œæ•´åˆ†æ‰¹æµ‹è¯•
npm run test:batch

# 3. åˆå¹¶ç»“æœ
npm run test:merge

# 4. æ£€æŸ¥æˆåŠŸç‡
cat test-results/merged-test-report.json | jq '.summary.successRate'
```

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

### æŠ¥å‘Šæ–‡ä»¶ä½ç½®
- **åˆ†æ‰¹æµ‹è¯•æŠ¥å‘Š**: `./test-results/batch-test-report.json`
- **åˆå¹¶æµ‹è¯•æŠ¥å‘Š**: `./test-results/merged-test-report.json`
- **è¦†ç›–ç‡æŠ¥å‘Š**: `./coverage/lcov-report/index.html`

### æŠ¥å‘Šè§£è¯»
```json
{
  "summary": {
    "totalTests": 1000,        // æµ‹è¯•æ€»æ•°
    "totalPassed": 950,        // é€šè¿‡æ•°é‡
    "totalFailed": 50,         // å¤±è´¥æ•°é‡
    "successRate": "95.0%",    // æˆåŠŸç‡
    "totalDuration": "1200s"   // æ€»è€—æ—¶
  }
}
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. å†…å­˜æº¢å‡º (JavaScript heap out of memory)**

```bash
# ğŸ¥‡ è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨åˆ†æ‰¹æµ‹è¯•ï¼ˆæ¨èï¼‰
npm run test:batch
# ğŸ¥ˆ å¤‡é€‰æ–¹æ¡ˆï¼šé™ä½å†…å­˜çš„å¿«é€Ÿæµ‹è¯•
npm run test:quick unit
```

> ğŸ”§ **å†…å­˜ä¼˜åŒ–ä¸“é¢˜**: 
> - [åˆ†æ‰¹æµ‹è¯•åŸç†](./batch-testing-guide.md#-æ¦‚è¿°) - äº†è§£åˆ†æ‰¹å¦‚ä½•è§£å†³å†…å­˜é—®é¢˜
> - [å†…å­˜å‹åŠ›åˆ†çº§](./batch-testing-guide.md#-å†…å­˜å‹åŠ›åˆ†çº§) - æ ¹æ®å†…å­˜å®¹é‡é€‰æ‹©ç­–ç•¥
> - [ç¡¬ä»¶ç¯å¢ƒé€‚é…](./batch-testing-guide.md#-ç¡¬ä»¶ç¯å¢ƒé€‚é…) - ä¸åŒé…ç½®çš„æœ€ä½³å®è·µ
> - [è°ƒè¯•æŠ€å·§](./batch-testing-guide.md#-è°ƒè¯•æ¨¡å¼) - å†…å­˜ä½¿ç”¨ç›‘æ§å’Œåˆ†æ

**2. æŸä¸ªæµ‹è¯•æ–‡ä»¶æ‰¾ä¸åˆ°**
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
find tests -name "å…·ä½“æ–‡ä»¶å"

# ä½¿ç”¨ç»å¯¹è·¯å¾„æµ‹è¯•
npm run test:run /å®Œæ•´è·¯å¾„/æ–‡ä»¶å --no-coverage
```

**3. TypeScriptç±»å‹é”™è¯¯**
```bash
# é‡æ–°æ„å»º
npm run test:clean
npm run build

# ç±»å‹æ£€æŸ¥
npm run typecheck
```

**4. ä¾èµ–ç¼ºå¤±**
```bash
# é‡æ–°å®‰è£…ä¾èµ–
npm install

# æ£€æŸ¥ç‰¹å®šä¾èµ–
npm list åŒ…å
```

### è°ƒè¯•æŠ€å·§

**è¯¦ç»†è¾“å‡ºæ¨¡å¼**
```bash
# å¯ç”¨è¯¦ç»†è¾“å‡º
DEBUG=vitest:* npm run test:batch

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
node --trace-gc scripts/run-batch-tests.ts
```

**å•ç‹¬è¿è¡Œé—®é¢˜æ‰¹æ¬¡**
```bash
# è¿è¡Œç‰¹å®šæ‰¹æ¬¡
NODE_OPTIONS="--max-old-space-size=2048" npx vitest run tests/unit/schemas/status-example.test.ts --verbose
```

## ğŸ“ æµ‹è¯•æœ€ä½³å®è·µ

### 1. å†…å­˜ç®¡ç†
- ä¼˜å…ˆä½¿ç”¨ `npm run test:quick` è¿›è¡Œæ—¥å¸¸éªŒè¯
- å®Œæ•´æµ‹è¯•ä½¿ç”¨ `npm run test:batch` é¿å…å†…å­˜æº¢å‡º
- å®šæœŸæ¸…ç† `npm run test:clean`

### 2. æµ‹è¯•ç­–ç•¥
- åŸºç¡€åŠŸèƒ½ï¼šä½¿ç”¨å•å…ƒæµ‹è¯•å¿«é€ŸéªŒè¯
- APIåŠŸèƒ½ï¼šä½¿ç”¨HTTPæœåŠ¡å™¨æµ‹è¯•
- é›†æˆåŠŸèƒ½ï¼šä½¿ç”¨åˆ†æ‰¹æµ‹è¯•
- ç”Ÿäº§å‘å¸ƒï¼šè¿è¡Œå®Œæ•´æ‰¹æ¬¡æµ‹è¯•

### 3. æŠ¥å‘Šåˆ†æ
- å…³æ³¨æˆåŠŸç‡ï¼Œç›®æ ‡ >90%
- ç›‘æ§å†…å­˜ä½¿ç”¨ï¼Œé¿å…æº¢å‡º
- æŸ¥çœ‹å¤±è´¥æ‰¹æ¬¡ï¼Œä¼˜å…ˆä¿®å¤å…³é”®é—®é¢˜

## ğŸ¯ æ€§èƒ½åŸºå‡†

### é¢„æœŸæ‰§è¡Œæ—¶é—´
- **å¿«é€Ÿå•å…ƒæµ‹è¯•**: < 30ç§’
- **å•ä¸ªæ‰¹æ¬¡æµ‹è¯•**: 2-15åˆ†é’Ÿ
- **å®Œæ•´åˆ†æ‰¹æµ‹è¯•**: < 20åˆ†é’Ÿ
- **è¦†ç›–ç‡æŠ¥å‘Š**: < 5åˆ†é’Ÿ

### å†…å­˜ä½¿ç”¨é¢„æœŸ
- **ä½å‹åŠ›æ‰¹æ¬¡**: < 2GB
- **ä¸­å‹åŠ›æ‰¹æ¬¡**: 2-4GB
- **é«˜å‹åŠ›æ‰¹æ¬¡**: > 4GB
- **å³°å€¼å†…å­˜**: < 8GBï¼ˆåˆ†æ‰¹æ‰§è¡Œï¼‰

## ğŸ“‹ é¡¹ç›®é…ç½®æ€»ç»“

### ä¾èµ–åŒ…ç»Ÿè®¡
- **æ€»ä¾èµ–æ•°**: 32ä¸ªï¼ˆæ¸…ç†å‰200+ä¸ªï¼‰
- **ç”Ÿäº§ä¾èµ–**: 14ä¸ªæ ¸å¿ƒåŒ…
- **å¼€å‘ä¾èµ–**: 18ä¸ªå·¥å…·åŒ…
- **ç²¾ç®€ç¨‹åº¦**: å‡å°‘85%ä¾èµ–æ•°é‡

### æ ¸å¿ƒè„šæœ¬å‘½ä»¤
```bash
npm run dev          # å¼€å‘æ¨¡å¼
npm run build        # æ„å»ºé¡¹ç›®
npm run test:unit    # å•å…ƒæµ‹è¯•
npm run test:batch   # åˆ†æ‰¹æµ‹è¯•
npm run test:quick   # å¿«é€Ÿæµ‹è¯•
npm run lint         # ä»£ç æ£€æŸ¥
npm run format       # ä»£ç æ ¼å¼åŒ–
npm run typecheck    # ç±»å‹æ£€æŸ¥
```

## ğŸ“– å®Œæ•´çŸ¥è¯†ä½“ç³»ç´¢å¼•

### ğŸ¯ æŒ‰éœ€æ±‚æŸ¥æ‰¾æ–‡æ¡£

#### ğŸš€ **æ–°æ‰‹å…¥é—¨è·¯å¾„**
1. **ç¯å¢ƒå‡†å¤‡**: [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â†’ äº†è§£åŸºæœ¬è¦æ±‚å’Œå·¥å…·å®‰è£…
2. **åŸºç¡€æ¦‚å¿µ**: [æµ‹è¯•åˆ†ç±»](#-æµ‹è¯•åˆ†ç±»ä¸å‘½ä»¤ä½“ç³») â†’ ç†è§£ä¸åŒç±»å‹çš„æµ‹è¯•
3. **é¦–æ¬¡è¿è¡Œ**: [æ—¥å¸¸å¼€å‘æµ‹è¯•](#-æ—¥å¸¸å¼€å‘æµ‹è¯•) â†’ æ‰§è¡Œç¬¬ä¸€ä¸ªæµ‹è¯•

#### âš¡ **æ—¥å¸¸å¼€å‘è·¯å¾„**
1. **å¿«é€ŸéªŒè¯**: [å¼€å‘å·¥ä½œæµ](#-å¼€å‘å·¥ä½œæµ) â†’ æ—¥å¸¸å¼€å‘æµ‹è¯•æµç¨‹
2. **é—®é¢˜è§£å†³**: [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤) â†’ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
3. **æ€§èƒ½ä¼˜åŒ–**: [å†…å­˜ä¼˜åŒ–æµ‹è¯•](#-å†…å­˜ä¼˜åŒ–æµ‹è¯•å¥—ä»¶) â†’ é«˜æ•ˆæµ‹è¯•ç­–ç•¥

#### ğŸ”§ **æ·±åº¦å­¦ä¹ è·¯å¾„**
1. **å†…å­˜ä¼˜åŒ–**: [åˆ†æ‰¹æµ‹è¯•æŒ‡å—](./batch-testing-guide.md) â†’ æ·±å…¥ç†è§£å†…å­˜ç®¡ç†
2. **æ¶æ„ç†è§£**: [tests/README.md](../../tests/README.md) â†’ æµ‹è¯•æ¶æ„å’Œè¦†ç›–èŒƒå›´
3. **é«˜çº§ç‰¹æ€§**: [æ‰¹æ¬¡æ‰§è¡Œç­–ç•¥](./batch-testing-guide.md#-æ‰¹æ¬¡æ‰§è¡Œç­–ç•¥) â†’ åˆ†æ‰¹ç®—æ³•å’ŒåŸç†

#### ğŸ“ˆ **CI/CDé›†æˆè·¯å¾„**
1. **è‡ªåŠ¨åŒ–æµ‹è¯•**: [CI/CDé›†æˆ](#cicdé›†æˆ) â†’ GitHub Actionså·¥ä½œæµ
2. **è´¨é‡ä¿è¯**: [æµ‹è¯•æœ€ä½³å®è·µ](#-æµ‹è¯•æœ€ä½³å®è·µ) â†’ ä»£ç è´¨é‡æ ‡å‡†
3. **ç›‘æ§åˆ†æ**: [æŠ¥å‘Šåˆ†æ](#-æŠ¥å‘Šåˆ†æ) â†’ æµ‹è¯•ç»“æœè§£è¯»å’Œä¼˜åŒ–

### ğŸ—‚ï¸ **æ–‡æ¡£åœ°å›¾**

```
ğŸ“– æµ‹è¯•æ‰‹å†Œ (æœ¬æ–‡æ¡£) - ä¸»å…¥å£ ğŸ“
â”‚
â”œâ”€â”€ ğŸš€ å¿«é€Ÿå¼€å§‹
â”‚   â”œâ”€â”€ ç¯å¢ƒå‡†å¤‡
â”‚   â”œâ”€â”€ æ—¥å¸¸å¼€å‘æµ‹è¯•
â”‚   â””â”€â”€ ç¡¬ä»¶ç¯å¢ƒé€‰æ‹©æŒ‡å—
â”‚
â”œâ”€â”€ ğŸ“Š æµ‹è¯•ä½“ç³»è¯¦è§£
â”‚   â”œâ”€â”€ æµ‹è¯•åˆ†ç±»ä¸å‘½ä»¤
â”‚   â”œâ”€â”€ å†…å­˜ä¼˜åŒ–ç­–ç•¥ â†’ [ğŸ“‹ æ·±å…¥å­¦ä¹ ](./batch-testing-guide.md)
â”‚   â”œâ”€â”€ å¼€å‘å·¥ä½œæµ
â”‚   â””â”€â”€ æ•…éšœæ’é™¤ â†’ [ğŸ”§ ä¸“é¢˜è§£å†³](./batch-testing-guide.md#-å¸¸è§é—®é¢˜)
â”‚
â”œâ”€â”€ ğŸ”§ ç›¸å…³æ–‡æ¡£é“¾æ¥
â”‚   â”œâ”€â”€ [ğŸ“‹ æ ¸å¿ƒæµ‹è¯•æ¦‚è§ˆ](../../tests/README.md) - å®Œæ•´æµ‹è¯•æ¶æ„
â”‚   â”œâ”€â”€ [ğŸ“Š åˆ†æ‰¹æµ‹è¯•è¯¦è§£](./batch-testing-guide.md) - å†…å­˜ä¼˜åŒ–ä¸“é¢˜
â”‚   â”œâ”€â”€ [ğŸ—ï¸ æ¶æ„æ–‡æ¡£](../architecture/README.md) - ç³»ç»Ÿæ¶æ„
â”‚   â””â”€â”€ [ğŸ“š ç”¨æˆ·æ‰‹å†Œ](../user/README.md) - ä½¿ç”¨æŒ‡å—
â”‚
â””â”€â”€ ğŸ“ˆ é«˜çº§ä¸»é¢˜
    â”œâ”€â”€ CI/CDé›†æˆ
    â”œâ”€â”€ æ€§èƒ½ç›‘æ§
    â””â”€â”€ æœ€ä½³å®è·µæ€»ç»“
```

### ğŸ¯ **å¿«é€Ÿé“¾æ¥å¯¼èˆª**

| ä¸»é¢˜ | æœ¬æ–‡æ¡£ä½ç½® | æ·±å…¥å­¦ä¹  | ç›¸å…³æ–‡æ¡£ |
|------|------------|----------|----------|
| **ğŸš€ ç«‹å³å¼€å§‹** | [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) | - | - |
| **ğŸ“Š æµ‹è¯•æ¦‚è§ˆ** | [æµ‹è¯•åˆ†ç±»](#-æµ‹è¯•åˆ†ç±»ä¸å‘½ä»¤ä½“ç³») | [è¯¦ç»†æ¶æ„](../../tests/README.md) | - |
| **ğŸ”§ å†…å­˜ä¼˜åŒ–** | [å†…å­˜ä¼˜åŒ–](#-å†…å­˜ä¼˜åŒ–æµ‹è¯•å¥—ä»¶) | [åˆ†æ‰¹ç­–ç•¥](./batch-testing-guide.md) | [æ€§èƒ½è°ƒä¼˜](./batch-testing-guide.md#-æ€§èƒ½ç›‘æ§) |
| **âš¡ å¼€å‘å·¥ä½œæµ** | [å·¥ä½œæµç¨‹](#-å¼€å‘å·¥ä½œæµ) | - | [å¼€å‘æŒ‡å—](../user/quickstart.md) |
| **ğŸš¨ æ•…éšœæ’é™¤** | [é—®é¢˜è§£å†³](#-æ•…éšœæ’é™¤) | [ä¸“é¢˜åˆ†æ](./batch-testing-guide.md#-å¸¸è§é—®é¢˜) | - |
| **ğŸ“ˆ CI/CD** | [è‡ªåŠ¨åŒ–é›†æˆ](#cicdé›†æˆ) | - | [éƒ¨ç½²æŒ‡å—](../user/installation.md) |

---

## ğŸ“š æ–‡æ¡£ç‰ˆæœ¬ä¿¡æ¯

**æ–‡æ¡£ç‰ˆæœ¬**: v1.7.0  
**åˆ›å»ºæ—¶é—´**: 2025-01-16  
**æœ€åæ›´æ–°**: 2025-01-16  
**ç»´æŠ¤å›¢é˜Ÿ**: æµ‹è¯•å›¢é˜Ÿ  
**æ–‡æ¡£çŠ¶æ€**: âœ… å·²éªŒè¯ - æ‰€æœ‰å‘½ä»¤å’Œé“¾æ¥å‡å·²æµ‹è¯•

### ğŸ”„ æ›´æ–°è®°å½•

- **v1.7.0** (2025-01-16): å®Œæˆæ–‡æ¡£ä½“ç³»é‡æ„ï¼Œå»ºç«‹å®Œæ•´å…³è”ç½‘ç»œ
- **v1.6.0**: æ·»åŠ åˆ†æ‰¹æµ‹è¯•æ”¯æŒå’Œå†…å­˜ä¼˜åŒ–ç­–ç•¥
- **v1.5.0**: åˆå§‹æµ‹è¯•æ–‡æ¡£ä½“ç³»å»ºç«‹

---

**ğŸ’¡ ä½¿ç”¨æç¤º**: æœ¬æ–‡æ¡£ä¸ºæµ‹è¯•ä½“ç³»çš„ä¸»å…¥å£ï¼Œå»ºè®®æ”¶è—ä»¥ä¾¿å¿«é€Ÿè®¿é—®ã€‚å¦‚éœ€äº†è§£ç‰¹å®šé¢†åŸŸçš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒä¸Šæ–¹çš„æ–‡æ¡£åœ°å›¾å’Œå¿«é€Ÿé“¾æ¥å¯¼èˆªã€‚