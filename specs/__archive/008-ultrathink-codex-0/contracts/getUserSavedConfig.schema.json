{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "getUserSavedConfig",
  "description": "Retrieve Codex user-specific configuration persisted on the server.",
  "dataSource": "refer-research/openai-codex/codex-rs/docs/codex_mcp_interface.md:21",
  "minVersion": "0.42.0",
  "definitions": {
    "askForApproval": {
      "type": "string",
      "enum": ["untrusted", "on-request", "on-failure", "never"],
      "description": "Approval escalation policy applied to model generated commands"
    },
    "sandboxMode": {
      "type": "string",
      "enum": ["read-only", "workspace-write", "danger-full-access"],
      "description": "Sandbox permission level enforced for shell commands"
    },
    "reasoningEffort": {
      "type": "string",
      "enum": ["minimal", "low", "medium", "high"],
      "description": "Preferred reasoning effort for Codex reasoning models"
    },
    "reasoningSummary": {
      "type": "string",
      "enum": ["auto", "concise", "detailed", "none"],
      "description": "Summary style for reasoning traces"
    },
    "verbosity": {
      "type": "string",
      "enum": ["low", "medium", "high"],
      "description": "Verbosity preference for Codex responses"
    },
    "sandboxSettings": {
      "type": "object",
      "properties": {
        "writableRoots": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Additional directories that remain writable in workspace-write sandbox mode"
        },
        "networkAccess": {
          "type": "boolean",
          "description": "Whether outbound network access is permitted inside the sandbox"
        },
        "excludeTmpdirEnvVar": {
          "type": "boolean",
          "description": "Whether to omit the TMPDIR environment variable from writable roots"
        },
        "excludeSlashTmp": {
          "type": "boolean",
          "description": "Whether to exclude /tmp from writable locations"
        }
      },
      "additionalProperties": false
    },
    "tools": {
      "type": "object",
      "properties": {
        "webSearch": {
          "type": "boolean",
          "description": "Enable or disable the web_search tool"
        },
        "viewImage": {
          "type": "boolean",
          "description": "Enable or disable the view_image tool"
        }
      },
      "additionalProperties": false
    },
    "profile": {
      "type": "object",
      "properties": {
        "model": {
          "type": "string",
          "description": "Default model associated with the profile"
        },
        "modelProvider": {
          "type": "string",
          "description": "Configured model provider identifier"
        },
        "approvalPolicy": {
          "$ref": "#/definitions/askForApproval"
        },
        "modelReasoningEffort": {
          "$ref": "#/definitions/reasoningEffort"
        },
        "modelReasoningSummary": {
          "$ref": "#/definitions/reasoningSummary"
        },
        "modelVerbosity": {
          "$ref": "#/definitions/verbosity"
        },
        "chatgptBaseUrl": {
          "type": "string",
          "description": "Custom base URL for ChatGPT provider"
        }
      },
      "additionalProperties": false
    },
    "profiles": {
      "type": "object",
      "description": "Map of profile names to profile configuration",
      "additionalProperties": { "$ref": "#/definitions/profile" }
    },
    "userSavedConfig": {
      "type": "object",
      "properties": {
        "approvalPolicy": {
          "$ref": "#/definitions/askForApproval"
        },
        "sandboxMode": {
          "$ref": "#/definitions/sandboxMode"
        },
        "sandboxSettings": {
          "$ref": "#/definitions/sandboxSettings"
        },
        "model": {
          "type": "string",
          "description": "Preferred default model"
        },
        "modelReasoningEffort": {
          "$ref": "#/definitions/reasoningEffort"
        },
        "modelReasoningSummary": {
          "$ref": "#/definitions/reasoningSummary"
        },
        "modelVerbosity": {
          "$ref": "#/definitions/verbosity"
        },
        "tools": {
          "$ref": "#/definitions/tools"
        },
        "profile": {
          "type": "string",
          "description": "Last selected profile name"
        },
        "profiles": {
          "$ref": "#/definitions/profiles"
        }
      },
      "required": ["profiles"],
      "additionalProperties": false
    }
  },
  "request": {
    "type": "object",
    "properties": {},
    "additionalProperties": false
  },
  "response": {
    "type": "object",
    "properties": {
      "config": {
        "$ref": "#/definitions/userSavedConfig"
      }
    },
    "required": ["config"],
    "additionalProperties": false
  }
}
